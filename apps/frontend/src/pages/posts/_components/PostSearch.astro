---
import { getCollection } from "astro:content";
import PostSearch from "./PostSearch.svelte";

const posts = await getCollection("posts", ({ data }) => {
  return data.draft !== true;
});

posts.sort(
  (a, b) =>
    new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
);
---

<PostSearch {posts} client:load />
