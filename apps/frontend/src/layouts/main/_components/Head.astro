---
import { SEO } from "astro-seo";

import type { Frontmatter } from "@lib/types/frontmatter";

import DarkModeScript from "./DarkModeScript.astro";
import "./ExternalLinksScript.astro";
import Favicon from "./Favicon.astro";

export interface Props {
  frontmatter: Frontmatter;
}

const { frontmatter } = Astro.props;
---

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <Favicon />
  <SEO
    title={frontmatter.title === "Tony Dang"
      ? "Tony Dang"
      : `${frontmatter.title} | Tony Dang`}
    description={frontmatter.description}
    noindex={frontmatter.noindex}
    openGraph={{
      basic: {
        title:
          frontmatter.title === "Tony Dang"
            ? "Tony Dang's Blog"
            : frontmatter.title,
        type: frontmatter.pubDate ? "article" : "website",
        image: frontmatter.image
          ? `https://tonydang.blog/og${frontmatter.path}.jpg`
          : "https://tonydang.blog/og/tony-dang.jpg",
      },
      optional: {
        description: frontmatter.description,
        locale: "en_US",
        siteName: "Tony Dang",
      },
      image: {
        alt: frontmatter.image ? frontmatter.alt : "Photo of Tony Dang",
        type: "image/jpeg",
        width: 1200,
        height: 630,
      },
    }}
    twitter={{
      card: "summary_large_image",
      site: "@tonydangblog",
      creator: "@tonydangblog",
    }}
  />
  <DarkModeScript />
</head>
